const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/swagger-ui-bundle-BSQMljDK.js","assets/preload-helper-CLVFE5Um.js","assets/swagger-ui-standalone-preset-LrGxXHy_.js"])))=>i.map(i=>d[i]);
import{r as o,_ as I,j as t,c as y}from"./preload-helper-CLVFE5Um.js";function R(){return o.useMemo(()=>{const e=new URLSearchParams(window.location.search);return{org:e.get("org"),repo:e.get("repo"),catalogOwner:e.get("catalog_owner")}},[])}function b({serviceData:e,org:n,repo:c}){const r=o.useRef(null),a=o.useRef(null);return o.useEffect(()=>!(e!=null&&e.service.openapi)||!r.current||!n||!c?void 0:((async()=>{const d=e.service.openapi.spec_file||"openapi.yaml",h=e.service.openapi.branch,m=(await I(async()=>{const{default:w}=await import("./swagger-ui-bundle-BSQMljDK.js").then(i=>i.s);return{default:w}},__vite__mapDeps([0,1]))).default,p=(await I(async()=>{const{default:w}=await import("./swagger-ui-standalone-preset-LrGxXHy_.js").then(i=>i.s);return{default:w}},__vite__mapDeps([2,1]))).default,E=h?[h]:["main","master"];let u=null;for(const w of E){const i=`https://raw.githubusercontent.com/${n}/${c}/${w}/${d}`;try{if((await fetch(i,{method:"HEAD"})).ok){u=i;break}}catch{continue}}if(!u)throw new Error(`OpenAPI spec not found at ${d}`);const x=await fetch(u);if(!x.ok)throw new Error(`OpenAPI specification file not found at ${u}`);const v=await x.text();let g;try{g=JSON.parse(v)}catch{g=v}a.current=m({spec:typeof g=="string"?void 0:g,url:typeof g=="string"?u:void 0,dom_id:"#swagger-ui",deepLinking:!0,presets:[m.presets.apis,p],plugins:[m.plugins.DownloadUrl],layout:"StandaloneLayout"})})().catch(console.error),()=>{}),[e,n,c]),r}const j="theme",s={LIGHT:"light",DARK:"dark"};function k(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?s.DARK:s.LIGHT}function C(){const e=localStorage.getItem(j);return e===s.DARK||e===s.LIGHT?e:k()}function L(e){document.documentElement.setAttribute("data-theme",e)}function P(){const[e,n]=o.useState(C);o.useEffect(()=>{L(e)},[e]),o.useEffect(()=>{if(window.matchMedia){const r=window.matchMedia("(prefers-color-scheme: dark)"),a=f=>{if(!localStorage.getItem(j)){const h=f.matches?s.DARK:s.LIGHT;n(h)}};return r.addEventListener("change",a),()=>r.removeEventListener("change",a)}},[]);const c=o.useCallback(()=>{n(r=>{const a=r===s.DARK?s.LIGHT:s.DARK;return localStorage.setItem(j,a),a})},[]);return{theme:e,toggleTheme:c}}const z="_header_xgozz_14",M="_headerContent_xgozz_22",$="_headerTitle_xgozz_32",B="_headerControls_xgozz_49",O="_themeToggleBtn_xgozz_56",Z="_backBtn_xgozz_75",U="_loading_xgozz_94",H="_error_xgozz_100",l={header:z,headerContent:M,headerTitle:$,headerControls:B,themeToggleBtn:O,backBtn:Z,loading:U,error:H};function N(){return t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 16 16",fill:"currentColor",children:t.jsx("path",{d:"M8 12a4 4 0 1 1 0-8 4 4 0 0 1 0 8Zm0-1.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Zm5.657-8.157a.75.75 0 0 1 0 1.061l-1.061 1.06a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l1.06-1.06a.75.75 0 0 1 1.06 0Zm-9.193 9.193a.75.75 0 0 1 0 1.06l-1.06 1.061a.75.75 0 1 1-1.061-1.06l1.06-1.061a.75.75 0 0 1 1.061 0ZM8 0a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0V.75A.75.75 0 0 1 8 0ZM3 8a.75.75 0 0 1-.75.75H.75a.75.75 0 0 1 0-1.5h1.5A.75.75 0 0 1 3 8Zm13 0a.75.75 0 0 1-.75.75h-1.5a.75.75 0 0 1 0-1.5h1.5A.75.75 0 0 1 16 8Zm-8 5a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5A.75.75 0 0 1 8 13Zm3.536-1.464a.75.75 0 0 1 1.06 0l1.061 1.06a.75.75 0 0 1-1.06 1.061l-1.061-1.06a.75.75 0 0 1 0-1.061ZM2.343 2.343a.75.75 0 0 1 1.061 0l1.06 1.061a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-1.06-1.06a.75.75 0 0 1 0-1.06Z"})})}function K(){return t.jsx("svg",{width:"20",height:"20",viewBox:"0 0 16 16",fill:"currentColor",children:t.jsx("path",{d:"M9.598 1.591a.749.749 0 0 1 .785-.175 7.001 7.001 0 1 1-8.967 8.967.75.75 0 0 1 .961-.96 5.5 5.5 0 0 0 7.046-7.046.75.75 0 0 1 .175-.786Zm1.616 1.945a7 7 0 0 1-7.678 7.678 5.499 5.499 0 1 0 7.678-7.678Z"})})}function D(){const{org:e,repo:n,catalogOwner:c}=R(),{theme:r,toggleTheme:a}=P(),[f,d]=o.useState(!0),[h,m]=o.useState(null),[p,E]=o.useState(null),u=b({serviceData:p,org:e,repo:n}),x=o.useCallback(async()=>{const i=`https://raw.githubusercontent.com/${c||window.location.hostname.split(".")[0]||"your-org"}/scorecards/catalog`;try{const _=`${i}/results/${e}/${n}/results.json?t=${Date.now()}`,T=await fetch(_,{cache:"no-cache"});if(!T.ok)throw new Error(`Service not found or results not available (${T.status})`);const S=await T.json();if(E(S),!S.service.openapi)throw new Error("This service does not have OpenAPI configuration");d(!1)}catch(_){m(_ instanceof Error?_.message:String(_)),d(!1)}},[c,e,n]);o.useEffect(()=>{if(!e||!n){m("Missing parameters. Please specify org and repo in the URL."),d(!1);return}x()},[e,n,x]);const v=(p==null?void 0:p.service.name)||`${e}/${n}`,g=`${e}/${n} - OpenAPI Specification`;return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:l.header,children:t.jsxs("div",{className:l.headerContent,children:[t.jsxs("div",{className:l.headerTitle,children:[t.jsx("h1",{children:f?"API Explorer":v}),t.jsx("p",{children:f?"Loading API specification...":g})]}),t.jsxs("div",{className:l.headerControls,children:[t.jsx("button",{className:l.themeToggleBtn,onClick:a,title:"Toggle night mode","aria-label":"Toggle night mode",children:r==="dark"?t.jsx(K,{}):t.jsx(N,{})}),t.jsx("a",{href:"./",className:l.backBtn,children:"‚Üê Back to Catalog"})]})]})}),f&&t.jsx("div",{className:l.loading,children:t.jsx("div",{children:"Loading API specification..."})}),h&&t.jsxs("div",{className:l.error,children:[t.jsx("h2",{children:"Failed to Load API"}),t.jsx("p",{children:h})]}),t.jsx("div",{id:"swagger-ui",ref:u})]})}const A=document.getElementById("api-explorer-root");A&&y.createRoot(A).render(t.jsx(o.StrictMode,{children:t.jsx(D,{})}));
//# sourceMappingURL=api-explorer-CPb0A8MY.js.map
