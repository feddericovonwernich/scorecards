const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/swagger-ui-bundle-CGs_wSy8.js","assets/preload-helper-DwrDxPkU.js","assets/swagger-ui-standalone-preset-C4XOTyYS.js"])))=>i.map(i=>d[i]);
import{r as o,_ as E,u as z,j as e,c as A}from"./preload-helper-DwrDxPkU.js";function I(){return o.useMemo(()=>{const t=new URLSearchParams(window.location.search);return{org:t.get("org"),repo:t.get("repo"),catalogOwner:t.get("catalog_owner")}},[])}function P({serviceData:t,org:n,repo:i}){const _=o.useRef(null),x=o.useRef(null);return o.useEffect(()=>!(t!=null&&t.service.openapi)||!_.current||!n||!i?void 0:((async()=>{const l=t.service.openapi.spec_file||"openapi.yaml",p=t.service.openapi.branch,d=(await E(async()=>{const{default:u}=await import("./swagger-ui-bundle-CGs_wSy8.js").then(r=>r.s);return{default:u}},__vite__mapDeps([0,1]))).default,h=(await E(async()=>{const{default:u}=await import("./swagger-ui-standalone-preset-C4XOTyYS.js").then(r=>r.s);return{default:u}},__vite__mapDeps([2,1]))).default,j=p?[p]:["main","master"];let s=null;for(const u of j){const r=`https://raw.githubusercontent.com/${n}/${i}/${u}/${l}`;try{if((await fetch(r,{method:"HEAD"})).ok){s=r;break}}catch{continue}}if(!s)throw new Error(`OpenAPI spec not found at ${l}`);const f=await fetch(s);if(!f.ok)throw new Error(`OpenAPI specification file not found at ${s}`);const w=await f.text();let c;try{c=JSON.parse(w)}catch{c=w}x.current=d({spec:typeof c=="string"?void 0:c,url:typeof c=="string"?s:void 0,dom_id:"#swagger-ui",deepLinking:!0,presets:[d.presets.apis,h],plugins:[d.plugins.DownloadUrl],layout:"StandaloneLayout"})})().catch(console.error),()=>{}),[t,n,i]),_}const $="_header_xgozz_14",b="_headerContent_xgozz_22",B="_headerTitle_xgozz_32",C="_headerControls_xgozz_49",T="_themeToggleBtn_xgozz_56",k="_backBtn_xgozz_75",R="_loading_xgozz_94",Z="_error_xgozz_100",a={header:$,headerContent:b,headerTitle:B,headerControls:C,themeToggleBtn:T,backBtn:k,loading:R,error:Z};function O(){return e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 16 16",fill:"currentColor",children:e.jsx("path",{d:"M8 12a4 4 0 1 1 0-8 4 4 0 0 1 0 8Zm0-1.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Zm5.657-8.157a.75.75 0 0 1 0 1.061l-1.061 1.06a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l1.06-1.06a.75.75 0 0 1 1.06 0Zm-9.193 9.193a.75.75 0 0 1 0 1.06l-1.06 1.061a.75.75 0 1 1-1.061-1.06l1.06-1.061a.75.75 0 0 1 1.061 0ZM8 0a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0V.75A.75.75 0 0 1 8 0ZM3 8a.75.75 0 0 1-.75.75H.75a.75.75 0 0 1 0-1.5h1.5A.75.75 0 0 1 3 8Zm13 0a.75.75 0 0 1-.75.75h-1.5a.75.75 0 0 1 0-1.5h1.5A.75.75 0 0 1 16 8Zm-8 5a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0v-1.5A.75.75 0 0 1 8 13Zm3.536-1.464a.75.75 0 0 1 1.06 0l1.061 1.06a.75.75 0 0 1-1.06 1.061l-1.061-1.06a.75.75 0 0 1 0-1.061ZM2.343 2.343a.75.75 0 0 1 1.061 0l1.06 1.061a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-1.06-1.06a.75.75 0 0 1 0-1.06Z"})})}function L(){return e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 16 16",fill:"currentColor",children:e.jsx("path",{d:"M9.598 1.591a.749.749 0 0 1 .785-.175 7.001 7.001 0 1 1-8.967 8.967.75.75 0 0 1 .961-.96 5.5 5.5 0 0 0 7.046-7.046.75.75 0 0 1 .175-.786Zm1.616 1.945a7 7 0 0 1-7.678 7.678 5.499 5.499 0 1 0 7.678-7.678Z"})})}function U(){const{org:t,repo:n,catalogOwner:i}=I(),{theme:_,toggleTheme:x}=z(),[m,l]=o.useState(!0),[p,d]=o.useState(null),[h,j]=o.useState(null),s=P({serviceData:h,org:t,repo:n}),f=o.useCallback(async()=>{const r=`https://raw.githubusercontent.com/${i||window.location.hostname.split(".")[0]||"your-org"}/scorecards/catalog`;try{const g=`${r}/results/${t}/${n}/results.json?t=${Date.now()}`,v=await fetch(g,{cache:"no-cache"});if(!v.ok)throw new Error(`Service not found or results not available (${v.status})`);const S=await v.json();if(j(S),!S.service.openapi)throw new Error("This service does not have OpenAPI configuration");l(!1)}catch(g){d(g instanceof Error?g.message:String(g)),l(!1)}},[i,t,n]);o.useEffect(()=>{if(!t||!n){d("Missing parameters. Please specify org and repo in the URL."),l(!1);return}f()},[t,n,f]);const w=(h==null?void 0:h.service.name)||`${t}/${n}`,c=`${t}/${n} - OpenAPI Specification`;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:a.header,children:e.jsxs("div",{className:a.headerContent,children:[e.jsxs("div",{className:a.headerTitle,children:[e.jsx("h1",{children:m?"API Explorer":w}),e.jsx("p",{children:m?"Loading API specification...":c})]}),e.jsxs("div",{className:a.headerControls,children:[e.jsx("button",{className:a.themeToggleBtn,onClick:x,title:"Toggle night mode","aria-label":"Toggle night mode",children:_==="dark"?e.jsx(L,{}):e.jsx(O,{})}),e.jsx("a",{href:"./",className:a.backBtn,children:"‚Üê Back to Catalog"})]})]})}),m&&e.jsx("div",{className:a.loading,children:e.jsx("div",{children:"Loading API specification..."})}),p&&e.jsxs("div",{className:a.error,children:[e.jsx("h2",{children:"Failed to Load API"}),e.jsx("p",{children:p})]}),e.jsx("div",{id:"swagger-ui",ref:s})]})}const y=document.getElementById("api-explorer-root");y&&A.createRoot(y).render(e.jsx(o.StrictMode,{children:e.jsx(U,{})}));
//# sourceMappingURL=api-explorer-pvJAw4ue.js.map
